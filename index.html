<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AI Horror Clips â€” Watch & Earn</title>
<style>
  :root{
    --bg:#06282f; --card:#0f3940; --accent:#ff4d4f; --muted:#9fb7bb; --btn:#2196f3;
  }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",sans-serif;background:linear-gradient(180deg,#02282d 0%, #063943 100%);color:#e9fbff}
  .wrap{max-width:720px;margin:20px auto;padding:12px}
  header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px}
  header h1{margin:0;font-size:18px}
  .coins{background:rgba(0,0,0,0.28);padding:6px 10px;border-radius:8px;font-weight:600}
  .card{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.35);margin-top:18px}
  video{width:100%;height:auto;border-radius:8px;background:#000;display:block}
  .controls{display:flex;gap:12px;justify-content:center;margin-top:12px}
  .btn{padding:10px 18px;border-radius:10px;border:0;font-weight:700;cursor:pointer}
  .btn-blue{background:var(--btn);color:#fff}
  .btn-red{background:var(--accent);color:#fff}
  .status{color:var(--muted);text-align:center;margin-top:10px}
  footer{margin-top:30px;text-align:center;color:var(--muted);font-size:13px}
  @media (min-width:900px){ .wrap{max-width:900px} }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>ðŸ”¥ AI Horror Clips ðŸ”¥</h1>
      <div class="coins" id="coinCount">Coins: 0</div>
    </header>

    <div class="card">
      <!-- main video player -->
      <video id="player" controls playsinline webkit-playsinline preload="metadata"></video>

      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:10px;flex-wrap:wrap">
        <div style="flex:1">
          <button id="playBtn" class="btn btn-blue">Play / Pause</button>
          <button id="nextBtn" class="btn btn-red">Next Clip Â»Â»</button>
        </div>
        <div style="text-align:right;min-width:120px;color:var(--muted)">
          <div id="titleSmall">Ready</div>
        </div>
      </div>

      <p class="status" id="statusText">Ready</p>
    </div>

    <footer>Made with Â· Watch & Earn demo Â· Host: GitHub Pages</footer>
  </div>

<script>
/*
  Put your video filenames here (exact filenames as uploaded to the repo root).
  Example names taken from your uploads â€” replace/add/remove to match your repo files.
*/
const clips = [
  "Ai --gorillaðŸ¦, scorpionðŸ¦‚ and shark ðŸ¦ˆ.mp4",
  "Panda Saved The Baby Who Was Believed To Be Dead. #ai #baby #panda #shorts #kids #aipanda #aishorts.mp4",
  "Panda Saves Baby â€“ A Real Hero in Fur! ðŸ¼â¤ï¸ -Panda Saves Baby - Cute Panda Protects Child - Panda H.mp4",
  "Pin page.mp4",
  "clipai_video_20251118_182913.mp4",
  "clipai_video_20251118_183320.mp4",
  "clipai_video_20251118_183324.mp4",
  "clipai_video_20251118_183328.mp4",
  "clipai_video_20251118_183338.mp4",
  "clipai_video_20251118_183344.mp4",
  "clipai_video_20251118_183350.mp4",
  "clipai_video_20251118_183358.mp4",
  "clipai_video_20251118_183410.mp4",
  "clipai_video_20251118_183611.mp4",
  "clipai_video_20251118_183615.mp4",
  "clipai_video_20251118_183627.mp4",
  "clipai_video_20251118_183631.mp4",
  "clipai_video_20251118_183714.mp4",
  "clipai_video_20251118_183815.mp4",
  "clipai_video_20251118_183825.mp4",
  "clipai_video_20251118_224319.mp4",
  "clipai_video_20251118_224613.mp4",
  "clipai_video_20251118_224708.mp4",
  "the emotional story in parrot.mp4"
];

/* UI elements */
const player = document.getElementById('player');
const playBtn = document.getElementById('playBtn');
const nextBtn = document.getElementById('nextBtn');
const coinCountEl = document.getElementById('coinCount');
const statusText = document.getElementById('statusText');
const titleSmall = document.getElementById('titleSmall');

let idx = 0;
let coins = Number(localStorage.getItem('coins') || 0);

/* Save and render coins */
function updateCoins(n){
  coins = n;
  localStorage.setItem('coins', coins);
  coinCountEl.textContent = 'Coins: ' + coins;
}

/* load clip by index */
function loadClip(i){
  if(!clips[i]) { statusText.textContent = 'No clip'; return; }
  idx = i;
  const src = encodeURI(clips[i]); // encode for special characters
  player.src = src;
  player.load();
  statusText.textContent = 'Loaded: ' + clips[i];
  titleSmall.textContent = clips[i].slice(0,38) + (clips[i].length>38 ? '...' : '');
  // For mobile autoplay restrictions: start muted. user can unmute by clicking Play.
  player.muted = true;
  // Try play (may fail until user interacts)
  player.play().catch(()=> {
    // requires user interaction â€” that's OK
    statusText.textContent = 'Tap Play to start (autoplay may be blocked on mobile)';
  });
}

/* go to next clip (wrap around) */
function nextClip(){
  let next = idx+1;
  if(next >= clips.length) next = 0;
  loadClip(next);
  // Attempt autoplay
  player.play().catch(()=> {});
}

/* Play/pause toggle */
playBtn.addEventListener('click', ()=>{
  if(player.paused) {
    // unmute when user explicitly plays so audio works
    player.muted = false;
    player.play().catch(()=> {});
    playBtn.textContent = 'Pause';
    statusText.textContent = 'Playing';
  } else {
    player.pause();
    playBtn.textContent = 'Play / Pause';
    statusText.textContent = 'Paused';
  }
});

/* Next button */
nextBtn.addEventListener('click', ()=>{
  nextClip();
});

/* When clip ends => reward coins and auto-advance after short delay */
player.addEventListener('ended', ()=>{
  // reward: 1 coin per clip end (change as needed)
  updateCoins(coins + 1);
  statusText.textContent = 'Clip finished â€” coin added! +1';
  // short delay then next
  setTimeout(()=> {
    nextClip();
  }, 900); // 0.9s delay
});

/* update UI and init */
updateCoins(coins);
if(clips.length > 0) loadClip(0);

/* Optional: keyboard controls for desktop */
document.addEventListener('keydown', (e)=>{
  if(e.code === 'Space'){ e.preventDefault(); if(player.paused) playBtn.click(); else playBtn.click(); }
  if(e.key === 'n' || e.key === 'N') nextBtn.click();
});

/* Safety note in console */
console.log('Watch & Earn demo loaded. Clips count:', clips.length);
</script>
</body>
</html>
